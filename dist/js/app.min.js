window.addEventListener("load",function(e){var displayedInput="",calculatableInput="";var currentInput=document.querySelector(".current");var lastInput=document.querySelector("#equation");var lastKey;$("button").on("click",clickHandler);$(document).on("keydown",keypressHandler);function clickHandler(e,a){var t=["C","M","="];a=this.innerText;if(!t.includes(a)){add(a)}else if(a==="C"){displayedInput=calculatableInput=" "}else if(a="="){animateEqual()}displayCurrent()}function keypressHandler(e){var a=e.which;if(a>=49&&a<=57&&lastKey!==16){add(a)}else if(a===13){animateEqual()}else if(a===191){add("/")}else if(a===189){add("-")}else if(lastKey===16&&a===56){add("*")}else if(lastKey===16&&a===187){add("+")}else if(lastKey===16&&a===48){add(")")}else if(lastKey===16&&a===57){add("(")}displayCurrent();lastKey=a}function displayCurrent(){currentInput.innerText=displayedInput}function add(e){var a;if(typeof e==="string"){e=e.charCodeAt(0)}a=String.fromCharCode(e);if(e===247){displayedInput+=a;calculatableInput+="/"}else{displayedInput+=a;calculatableInput+=a}}function calculate(input){try{var a=eval(input)}catch(e){return"error"}return a}function animateEqual(){var e=$(".current").offset();var a,t;$(".last").offset(e);$("#answer").text(calculate(calculatableInput));lastInput.innerText=displayedInput+"=";var n=$(".display").height()-$(".last").height()*3;t={top:n,left:$(".display").width()-$("#equation").width()-$("#answer").width()};displayedInput=calculatableInput=" ";$(".last").animate({top:n,left:0},"fast",function(){$(".last").animate(t,"slow")})}});